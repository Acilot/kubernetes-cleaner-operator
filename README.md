# Kubernetes Cleaner Operator

**Kubernetes Cleaner Operator** предназначен для крупных кластеров, где сложно контролировать состояние подов и деплойментов. Этот оператор успешно применяется в студенческом кластере Yandex Practicum DevOps, что позволило сэкономить более 40% затрат на ресурсы кластера.

## Описание функционала

- **Автоматическое удаление подов**: Периодически проверяет состояние деплойментов в кластере на наличие подов, находящихся не в состоянии `RUNNING`, и удаляет такие поды.
- **Автоматическое масштабирование деплойментов**: Если поды снова появляются и остаются в состоянии `Pending` более 1 часа, деплойменты автоматически масштабируются до 0.

## Структура проекта

- **`/app`**: Основной код приложения
- **`/k8s/`**: Содержит все необходимые манифесты и роли доступа для установки и настройки оператора.
- **`github/workflows/`**: Предоставляет полный workflow для сборки и деплоя приложения в кластер Yandex Cloud.

## Как начать

1. **Установка манифестов**: Перейдите в директорию `/k8s/` и примените манифесты для установки оператора в ваш кластер Kubernetes.
2. **Настройка доступа**: Убедитесь, что у вас есть необходимые роли и привилегии для работы оператора.
3. **Интеграция с CI/CD**: Используйте предоставленные workflows из директории `github/workflows/` для автоматизации процесса сборки и деплоя.
